---
import type { HTMLAttributes } from 'astro/types'

interface Props extends HTMLAttributes<'a'> {}

const { href, ...props } = Astro.props;

const url = new URL(href as string);
const src = `https://favicon.garden/${url.hostname}`
---
<a href={href} {...props}>
    <img onerror="this.style.display='none';" src={src} width="1em" height="1em" loading="lazy" alt="" aria-hidden="true" class="favicon"/><slot />
</a>
<style>
    img { object-fit: contain; }
</style>